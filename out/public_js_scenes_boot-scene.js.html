<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>public/js/scenes/boot-scene.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Modules</li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-client.html">client</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-serveur.html">serveur</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-serveur.html#~agrandissement">agrandissement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-serveur.html#~attaque">attaque</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-serveur.html#~changementVie">changementVie</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-serveur.html#~changementVieEquipe">changementVieEquipe</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-serveur.html#~gestionTonneaux">gestionTonneaux</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-serveur.html#~gestionVie">gestionVie</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-serveur.html#~interactionTirolienne">interactionTirolienne</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-serveur.html#~interactionTonneauDrapeau">interactionTonneauDrapeau</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-serveur.html#~invisible">invisible</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-serveur.html#~recevoirDegat">recevoirDegat</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-serveur.html#~saut">saut</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-serveur.html#~tirer">tirer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-serveur.html#~toupie">toupie</a></span></li><li class="nav-heading">Events</li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="module-serveur.html#~event:finDeVie">finDeVie</a></span></li><li class="nav-heading">Namespaces</li><li class="nav-heading"><span class="nav-item-type type-namespace">N</span><span class="nav-item-name"><a href="Client.html">Client</a></span></li><li class="nav-heading"><span class="nav-item-type type-namespace">N</span><span class="nav-item-name"><a href="Serveur.html">Serveur</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#aKeyPressed">aKeyPressed</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#BootScene">BootScene</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#PanelViewer">PanelViewer</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#SelectionJoueur">SelectionJoueur</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#socket">socket</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">public/js/scenes/boot-scene.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * PRÃ‰CHARGER TOUTE LES IMAGES ET AFFICHE LA BARRE DE PROGRESSION
 * @type {Phaser}
 */


const BootScene = new Phaser.Class({

  Extends: Phaser.Scene,

  initialize:

    function SceneB() {
      Phaser.Scene.call(this, {
        key: 'BootScene',
        active: true
      });
    },

  preload: function() {
    const halfWidth = 1500 / 2;
    const halfHeight = 720 / 2;



    const progressBarHeight = 100;
    const progressBarWidth = 400;

    const progressBarContainer = this.add.rectangle(
      halfWidth,
      halfHeight,
      progressBarWidth,
      progressBarHeight,
      0x000000,
    );
    const progressBar = this.add.rectangle(
      halfWidth + 20 - progressBarContainer.width * 0.5,
      halfHeight,
      10,
      progressBarHeight - 20,
      0x888888,
    );

    const loadingText = this.add.text(halfWidth - 75, halfHeight - 100, 'Chargement...').setFontSize(24);
    const percentText = this.add.text(halfWidth - 25, halfHeight, '0%').setFontSize(24);
    const assetText = this.add.text(halfWidth - 25, halfHeight + 100, '').setFontSize(24);

    this.load.on('progress', (value) => {
      progressBar.width = (progressBarWidth - 30) * value;

      const percent = value * 100;
      percentText.setText(`${percent}%`);
    });

    this.load.on('fileprogress', (file) => {
      assetText.setText(file.key);
    });

    this.load.on('complete', () => {
      loadingText.destroy();
      percentText.destroy();
      assetText.destroy();
      progressBar.destroy();
      progressBarContainer.destroy();

      this.scene.start('mainMenu');
    });

    this.loadAssets();


  },

  loadAssets: function() {
    var liste = ['dessinatrice1_', 'naruto_', 'ninja_', 'ninja2_', 'aventuriere2_', 'chevalier_'];
    // var liste2 = ['dessinatrice1', 'naruto'];
    liste.forEach((item) => {
      this.load.image(item, 'assets/selection/' + item + '.png');
    });

    // liste2.forEach((item) => {
    //   this.load.atlas(item, 'assets0/personnages/' + item + '/' + item + '.png', 'assets/personnages/' + item + '/' + item + '_atlas.json');
    // });
    // this.load.image('bg', 'assets0/fond/streetOfRage.png');
    // this.load.image('bedroom', 'assets0/fond/bgGrand.png');
    // this.load.image('doors', 'assets0/fond/doors.png');
    // this.load.atlas('ennemy', 'assets0/personnages/dessinatrice1/dessinatrice1.png', 'assets/personnages/dessinatrice1/dessinatrice1_atlas.json');
    // this.load.atlas('dessinatrice1', 'assets0/personnages/dessinatrice1/dessinatrice1.png', 'assets/personnages/dessinatrice1/dessinatrice1_atlas.json');


    //------------------ATLAS
    //DESSINATRICE
    this.load.atlas('dessinatrice1', 'assets/personnages/dessinatrice1/dessinatrice1.png', 'assets/personnages/dessinatrice1/dessinatrice1_atlas.json');

    //NARUTO
    this.load.atlas('naruto', 'assets/personnages/naruto/naruto.png', 'assets/personnages/naruto/naruto_atlas.json');

    //NINJA
    this.load.atlas('ninja', 'assets/personnages/ninja/ninja.png', 'assets/personnages/ninja/ninja_atlas.json');

    //FILLE NINJA
    this.load.atlas('ninja2', 'assets/personnages/ninja2/ninja2.png', 'assets/personnages/ninja2/ninja2_atlas.json');

    //AVENTURIERE 2
    this.load.atlas('aventuriere2', 'assets/personnages/aventuriere2/aventuriere2.png', 'assets/personnages/aventuriere2/aventuriere2_atlas.json');

    //CHEVALIER
    this.load.atlas('chevalier', 'assets/personnages/chevalier/chevalier.png', 'assets/personnages/chevalier/chevalier_atlas.json');

    this.load.image('tonneau', 'assets0/barrel.png')
    // this.load.image('profilPanel', 'assets0/liveProfilPanel.png');
    this.load.image('portal', 'assets0/portal.png');
    this.load.image('bullet', 'assets0/bullet.png');
    this.load.image('bulletVerte', 'assets0/bulletVerte.png');
    this.load.image('bulletBleu', 'assets0/bulletBleu.png');

    this.load.image('drapeauBleu', 'assets0/drapeauBleu.png');
    this.load.image('matDrapeauBleu', 'assets0/matDrapeauBleu.png');
    this.load.image('drapeauVert', 'assets0/drapeauVert.png');


    this.load.image('mini', 'assets0/miniJoueur.png');
    this.load.atlas('saut', 'assets0/sautest/saut.png', 'assets0/sautest/saut_atlas.json');

    this.load.image('fullscreen', 'assets0/fullscreen.png');
    // this.load.image('bgMenu', 'assets/fond/bgMenu.png');

    // this.load.image('bg', 'assets/fond/bgGrand.png');
    this.load.image('interieur-maison', 'assets/fond/interieur-maison.png');
    this.load.image('platforme', 'assets/fond/platforme.png');
    this.load.image('scaleCorrectJoueur', 'assets/fond/scaleCorrectJoueur.png');
    this.load.image('facade', 'assets/fond/facade-maison.png');
    this.load.image('plafond', 'assets/fond/plafond-maison.png');
    this.load.image('fontaine', 'assets/fond/fontaine.png');
    this.load.image('fontaineDerriere', 'assets/fond/fontaineDerriere.png');



    this.load.image('tobogan', 'assets/fond/tobogan.png');
    this.load.image('poteau', 'assets/fond/poteau.png');
    this.load.image('canon-socle', 'assets/fond/canon-socle.png');
    this.load.image('canon', 'assets/fond/canon.png');
    // this.load.image('doors', 'assets/fond/doors.png');
    // this.load.image('bg2', 'assets/fond/bgMenu.png');

  }

});

export default BootScene;
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> on Wed Dec 22 2021 00:01:35 GMT+0100 (GMT+01:00) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
